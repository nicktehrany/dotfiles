[global/wm]
margin-top = 0
margin-bottom = 0
border-bottom-size = 0

[colors]
background = #282828
foreground = #d6d1c3
white      = #ffffff
red        = #fb4934
yellow     = #edaf1f
gray       = #a8a197

[bar/bar_dual]
monitor=DP-1-0
modules-left = bspwm
modules-center = date
modules-right = cpu memory wlan eth temperature_cpu battery
enable-ipc = true
padding = 2
border-size = 0
border-color = ${colors.foreground}
height = 30
background = ${colors.background}
foreground = ${colors.foreground}
override-redirect=false
wm-restack = bspwm
font-0 = Hack:size=10.5;1
font-1 = Hack:size=10.5;1
font-2 = Hack:size=10.5:weight=bold;2
font-3 = FontAwesome:pixelsize=13

[bar/bar_single]
monitor=eDP-1
modules-left = bspwm
modules-center = date
modules-right = cpu memory temperature_cpu battery
background = ${colors.background}
foreground = ${colors.foreground}
font-0 = Hack:size=10.5;1
font-1 = Hack:size=10.5:weight=bold;1
font-2 = Hack:size=10.5;2
font-3 = FontAwesome:pixelsize=13

[bar/bar_dual_external]
monitor=eDP-1
modules-left = bspwm
background = ${colors.background}
foreground = ${colors.foreground}
font-0 = Hack:size=10.5;1
font-1 = Hack:size=10.5:weight=bold;1
font-2 = Hack:size=10.5;2
font-3 = FontAwesome:pixelsize=13

;TODO actually set icons
[Icons]
dolphin = 
chromium = 
firefox = 
signal = 
slack = 
spotify = 
termite = 
urxvt = 
tilix = 
alacritty = 
kitty = 
code-oss = 
_other = 
discord = ﭮ

[module/date]
type = internal/date
label-font = 3
label =  %date% %time%
date = %Y-%m-%d
time = %H:%M
interval = 5
format-foreground = ${colors.foreground}
format-padding = 1

[module/battery]
type = internal/battery
battery = BAT0
adapter = AC
label-font = 4
format-charging = <animation-charging> <label-charging>
format-discharging = <animation-discharging> <label-discharging>
label-charging = %percentage%%
label-discharging = %percentage%%
animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-3 = 
animation-charging-4 = 
animation-discharging-0 = 
animation-discharging-1 = 
animation-discharging-2 = 
animation-discharging-3 = 
animation-discharging-4 = 
animation-discharging-framerate = 2000
full-at = 99

[module/temperature_cpu]
type = internal/temperature
interval = 0.5
thermal-zone = 0
; $ for i in /sys/class/hwmon/hwmon*/temp*_input; do echo "$(<$(dirname $i)/name): $(cat ${i%_*}_label 2>/dev/null || echo $(basename ${i%_*})) $(readlink -f $i)"; done
hwon-path =  /sys/devices/platform/thinkpad_hwmon/hwmon/hwmon5/temp1_input
warn-temperature = 80
units = true
format = <label>
format-warn = <label-warn>
label = "CPU %temperature-c% | "
label-font = 3
label-warn = "%temperature-c%"
label-warn-foreground = #f00

[module/temperature_gpu]
type = internal/temperature
interval = 0.5
thermal-zone = 0
hwon-path = /sys/devices/platform/thinkpad_hwmon/hwmon/hwmon5/temp2_input
warn-temperature = 60
units = true
format = <label>
format-warn = <label-warn>
label = GPU %temperature-c%
label-warn = "%temperature-c%"
label-warn-foreground = #f00

[module/cpu]
type = internal/cpu
interval = 2
label-font = 3
format-prefix-foreground = ${root.foreground}
label = "CPU:%{A:termite -e htop:}%percentage%%%{A} | "
format = <label>

[module/memory]
type = internal/memory
interval = 2
label-font = 3
format-prefix-foreground = ${colors.foreground}
label = "RAM %gb_used%/%gb_total% | "

[module/eth]
type = internal/network
interface = enp0s31f6
interval = 3.0
format-connected-underline = #55aa55
accumulate-stats = true
label-disconnected = " | "
format-connected-prefix-foreground = ${colors.foreground}
label-connected = "%ifname% %local_ip%  %downspeed%  %upspeed% %linkspeed% %{T3}|%{T-} "
lable-connected-foreground = ${colors.teal}

[module/wlan]
type = internal/network
interface = wlp0s20f3
interval = 3.0
format-connected = "  <label-connected> "
label-connected = "%essid%"
label-disconnected = " 睊"

[module/bspwm]
type = internal/bspwm
reverse-scroll = false
label-focused = %name%
label-focused-foreground = ${colors.white}
label-focused-padding = 1
label-occupied = %name%
label-occupied-foreground = ${colors.yellow}
label-occupied-padding = 1
label-empty = %name%
label-empty-foreground = ${colors.gray}
label-empty-padding = 1

; TODO: Scroll not working.
[module/backlight]
type = internal/backlight
card = intel_backlight
use-actual-brightness = true
enable-scroll = true
format = <bar>
bar-width = 10
bar-indicator = |
bar-fill = ─
bar-empty = ─
